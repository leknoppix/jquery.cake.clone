<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Jquery.cake.clone by leknoppix</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Jquery.cake.clone</h1>
        <h2>A simple jQuery plugin to clone inputs generated via CakePHP.</h2>
        <a href="https://github.com/leknoppix/jquery.cake.clone" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>
<a name="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages"><span class="octicon octicon-link"></span></a>Installation</h3>

<p>Make sure you include the script after the jQuery library.</p>

<pre name="code" class="html">
  &lt;script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"&gt;&lt;/script&gt;
  &lt;script src="/path/to/jquery.cake.clone.js"&gt;&lt;/script&gt;
</pre>


<h3>
<a name="designer-templates" class="anchor" href="#designer-templates"><span class="octicon octicon-link"></span></a>How to</h3>

<p>Suppose we have this instruction in php (of course linked to the CakePHP framework):</p>

<pre name="code" class="html">
&lt;div class="body-0"&gt;
&lt;?php 
    echo $this->Form->input('0.name');
?&gt;
&lt;/div&gt;
&lt;a href="#" class="addproduct"&gt;Add a new product&lt;/a&gt;
</code>
</pre>

<p>This yields the following HTML code:</p>

<pre name="code" class="html"><code>
&lt;div class="body-0"&gt;
&lt;div class="input text"&gt;&lt;label for="Controller0Name"&gt;Name&lt;/label&gt;&lt;input name="data[Controller][0][name]" type="text" id="Controller0Name"/&gt;&lt;/di&gt;>&lt;/div&gt;
&lt;a href="#" class="addproduct"&gt;Add a new product&lt;/a&gt;
</code></pre>

<p>To ensure successful cloning, we trigged cloning process by clicking the link that has the class selector called addproduct. We need to use to jquery.cake.clone extension together with the necessary options to clone the selected fields. Here an exemple:</p>

<pre name="code" class="javascript">
$(function() {
    var options = {
        init:'0',
        nbrincrem:'0',
        classclone:'body-',
        controller:'Controller',
    }
    $('.addproduct').on('click',function()
    {
        $(this).clonage(options);
    });
});
</code>
</pre>

<p>After successful cloning, we get:</p>

<pre name="code" class="html">
&lt;div class="body-0"&gt;
&lt;div class="input text"&gt;&lt;label for="Controller0Name"&gt;Name&lt;/label&gt;&lt;input name="data[Controller][0][name]" type="text" id="0Name"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="body-1"&gt;
&lt;div class="input text"&gt;&lt;label for="Controller1Name"&gt;Name&lt;/label&gt;&lt;input name="data[Controller][1][name]" type="text" id="Controller1Name"/&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;a href="#" class="addproduct"&gt;Add a new product&lt;/a&gt;
</code></pre>

<p>The options object contains several parameters.

<ul>
  <li>The first parameter init identifies the master div (the div to clone).</li>
  <li>The second parameter nbrincrem must be identical to init, and will increment each time you add a new clone.</li>
  <li>The third parameter classclone specifies the name of the div to be cloned without its identification number.</li>
  <li>The last parameter controller is used to specify the name of the controller.</li>
</ul>

<h3>
<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick"><span class="octicon octicon-link"></span></a>Evolution</h3>

<p>This plugin is still basic, it may evolve with reports and feedbacks. Should you have any problem, question or inquiry, please do not hesitate to use the wiki and to share your ideas. Thanks!</p>

        </section>

        <aside id="sidebar">
          <a href="https://github.com/leknoppix/jquery.cake.clone/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/leknoppix/jquery.cake.clone/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/leknoppix/jquery.cake.clone"></a> is maintained by <a href="https://github.com/leknoppix">leknoppix</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>
  <!-- Piwik -->
  <script type="text/javascript">
    var _paq = _paq || [];
    _paq.push(["trackPageView"]);
    _paq.push(["enableLinkTracking"]);

    (function() {
      var u=(("https:" == document.location.protocol) ? "https" : "http") + "://piwik.mirandais.fr/";
      _paq.push(["setTrackerUrl", u+"piwik.php"]);
      _paq.push(["setSiteId", "5"]);
      var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
      g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Piwik Code -->
  </body>
</html>